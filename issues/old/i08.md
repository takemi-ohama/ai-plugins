# 開発AIエージェント向け指示書

* このドキュメントはClaude Codeなどの開発AIエージェント向けの指示書です。
* チャットで「docs/cmd01.mdのx番を実行してください」と言われたらこのファイルを読み、見出しに書いてある番号の内容を実行してください。
* 頻繁に書き換わるので、指示があるたびに読み込みなおしてください。
* 返答やドキュメントはすべて日本語で。

# 1. Markdown作成についてのSkill作成
* Markdown文書作成時に読み込むSkillを作成して下さい
* 図を描くときはASCII ARTではなく、mermaidまたはplantUMLで記述すること
    * mermaidまたはplantUMLは書きたい図の内容によってどちらにするか判断
    * ツリー構造の表現のみはasciiのままでよい
* Markdown文書は概ね300行以内とすること
    * それ以上になる場合はディレクトリを作成して順序を示すprefixをつけてファイルを分割すること
    * 順序prefixはパディング付き2桁(01-, 02-, ...)

# 2. Affaan Mustafa Method導入
* 以下の記事を読み、レポートをまとめてください
    * https://github.com/affaan-m/everything-claude-code
    * https://qiita.com/dai_chi/items/c19be47044d062d59ee8
    * https://zenn.dev/ttks/articles/a54c7520f827be
* affaan-mプラグインを作成し、導入すべき知見を導入してください
    * ndfと併存する前提で構成してください
    * これまでのskillやagentと重複する場合はaffaan-mを優先
        * ndfのskill、agentを整理・削除
    * カスタムコマンドとMCPが重複した場合はndf優先
* 導入した知見をreport08.mdにまとめてください

# 3. カスタムコマンド/pr-tests導入 ✅ 完了

## 実装内容

### 新規ファイル
- `plugins/ndf/commands/pr-tests.md`: Test Plan自動実行コマンド

### 更新ファイル
- `plugins/ndf/.claude-plugin/plugin.json`:
  - commands配列に`./commands/pr-tests.md`を追加
  - version: `2.2.2` → `2.3.0`（MINOR版アップ）
- `plugins/ndf/README.md`:
  - 概要セクションでコマンド数を更新（6→7）
  - `/pr-tests`コマンドの説明を追加

## 機能仕様

* `/ndf:pr-tests`コマンドの実装完了
* PRを読み取ってTest Planを自動実行
    * ✅ 対象のPRを読み込む（引数またはブランチから自動検出）
    * ✅ Test Planを解釈し、テスト実行計画を建てて実行する
    * ✅ 結果をもとにPRコメントを編集する
        * ✅ 成功したテストはチェックマークを付ける
        * ✅ 失敗した場合は原因がコードであればコードを修正し、修正commitをpushし、コメントを追加する
        * ✅ 失敗原因がコードで修正できない場合はPRにその旨のコメントを追加する
    * ✅ 全てのテストが終ったらPRにテスト結果をまとめたコメントを追加する

## バージョン更新

- **v2.2.2 → v2.3.0** (MINOR版アップ)
- 理由: 新機能追加（後方互換性あり）

## 次のステップ

- [ ] ローカルテストでコマンドが正常に動作することを確認
- [ ] コミット・PR作成
