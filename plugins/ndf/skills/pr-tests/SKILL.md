---
name: pr-tests
description: "PRのTest Planを自動実行し、結果をPRコメントに反映する"
argument-hint: "[PR番号]"
disable-model-invocation: true
allowed-tools:
  - Bash
  - Read
  - Glob
  - Grep
---

# PR Test Plan実行

`/ndf:pr`で作成されたPRのTest Plan（チェックリスト形式）を読み取り、各テスト項目を自動実行する。

**制約**: テスト実行と結果報告のみ。コード修正・git操作・ファイル編集は行わない。

## 引数

- PR番号（オプション）: 省略時は現在ブランチから自動検出

## 手順

1. **PR情報取得**: PR本文からTest Planセクションの`- [ ]`項目をパース
2. **テスト実行計画**: テスト種類の判定、実行順序の決定、自動/手動の分類
3. **テスト実行**: 各項目を順次実行し成功/失敗を記録
4. **結果反映**:
   - 成功: PR本文の`- [ ]`を`- [x]`に更新
   - 失敗: PRにコメント追加（問題点・対策案・エラー詳細）
5. **最終報告**: テスト結果サマリーをPRにコメント（総テスト数、成功/失敗/スキップ数、成功率）
