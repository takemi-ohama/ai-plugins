# PR修正コマンド

直前PR、または引数で指定されたPRのreview comment確認・修正対応実行。

## 実行
1. review comment確認
2. 問題点修正
3. コミット・プッシュ
4. github mcpまたはghでcopilotにreviewを再依頼

**方針**:
* 品質・可読性・セキュリティ向上、既存機能影響なし
* 指摘がすべて正しいとは限らない。修正前に仕様を調査し、実施の可否を判断すること
    * 未対応の場合はその理由をコメントに書き込む

## 作業完了報告（必須）

作業完了時は以下の情報を必ず報告すること：

### 報告テンプレート

```
PR修正対応が完了しました。

## 対応サマリー

| 項目 | 値 |
|------|-----|
| 対応した指摘数 | X件中Y件 |
| 対応率 | Z% |
| 修正ファイル数 | N個 |
| 変更行数 | +追加行, -削除行 |
| コミット数 | M個 |
| 所要時間 | 約N分 |

## レビュー指摘への対応

| # | 指摘内容 | 対応 | 備考 |
|---|----------|------|------|
| 1 | [指摘内容の要約] | ✅ 対応済み | [修正内容] |
| 2 | [指摘内容の要約] | ✅ 対応済み | [修正内容] |
| 3 | [指摘内容の要約] | ❌ 対応しない | [理由] |

## 修正内容の詳細

**主な修正内容**:
- [修正内容1]
- [修正内容2]
- [修正内容3]

## コミット情報

| コミットハッシュ | メッセージ |
|------------------|------------|
| `abc1234` | 修正内容の概要 |
| `def5678` | 追加修正の概要 |

## 再レビュー依頼

- ✅ 完了 / ❌ 失敗（理由）

---

## 📎 リンク

**PR URL**: https://github.com/owner/repo/pull/123
```

### 報告例

```
PR修正対応が完了しました。

## 対応サマリー

| 項目 | 値 |
|------|-----|
| 対応した指摘数 | 13件中12件 |
| 対応率 | 92% |
| 修正ファイル数 | 7個 |
| 変更行数 | +44, -39 |
| コミット数 | 1個 |
| 所要時間 | 約25分 |

## レビュー指摘への対応

| # | 指摘内容 | 対応 | 備考 |
|---|----------|------|------|
| 1 | secret-scan.js: AWS_SECRET_ACCESS_KEYの正規表現 | ✅ 対応済み | /iフラグを追加 |
| 2 | secret-scan.js: バイナリファイルのハンドリング | ✅ 対応済み | 拡張子フィルタリング追加 |
| 3 | typescript-check.js: TypeScriptインストール確認 | ✅ 対応済み | tsc --version で事前確認 |
| 4 | detect-package-manager.js: 複数lockファイルの競合 | ❌ 対応しない | 検出順序に意味があるため |

## 修正内容の詳細

**主な修正内容**:
- すべてのフックスクリプトからasync修飾子を削除（7ファイル）
- エラーハンドリングの改善（3箇所）
- コードクリーンアップ（未使用定数削除、到達不能コード削除）

## コミット情報

| コミットハッシュ | メッセージ |
|------------------|------------|
| `00661f1` | fix: affaan-mフックスクリプトのコード品質とエラーハンドリングを改善 |

## 再レビュー依頼

- ✅ 完了

---

## 📎 リンク

**PR URL**: https://github.com/takemi-ohama/ai-plugins/pull/13
```

